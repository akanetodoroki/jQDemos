<?xml version="1.0" encoding="GB2312" ?>
<service type="TGridSumUp" permissions="update;edit;sum;print;filter">
   <title>商品期初库存</title>
   <table title="商品" />
   <grid title="商品列表" table="products" keyfield="productid/商品编码" size="0,700" pagesize="20" style="editable" lockedfields="productid">
      <sql>
		select a.*,b.suppliername from products a
		left join suppliers b on a.supplierid=b.supplierid 
      </sql>
      <datafields>
		[100]productid/产品编号;[200]productname/产品名称;[110]quantityperunit/规格型号;[80]unit/计量单位;[@r][75]unitprice/单价;[#n8][80]quantity/期初数量;[#n12,2][80]amount/期初金额;[#n8][80]reorderlevel/最低库存;[#n8][80]inventorylimit/最高库存
      </datafields>
      <xsummaryfields name="productname" label="[@c]* 合  计 *" sumfields="quantity;reorderlevel;inventorylimit;amount" style="grandtotal" />
      <totalfields>quantity;reorderlevel;inventorylimit;amount</totalfields>
      <replace>amount=unitprice*quantity</replace> 
   </grid>
   <form title="产品详情" size="344,632" rowheight="32" modal="xwindow" >
      <tab title="基本信息" >  
         <groupbox title="基本信息" pos="8,12" size="295,600" >
            <textfield name="productid" label="产品编码：" labelwidth="60" pos="10+32*0,6" size="0,170" length="14" blanktext="请输入产品编码" />
            <textfield name="pycode" label="产品别名：" labelwidth="60" pos="10+32*0,355" size="0,220" length="20" />
            <textfield name="productname" label="产品名称：" labelwidth="60" pos="10+32*1,6" size="0,320" length="100" blanktext="请输入产品名称" />
            <textfield name="productshortname" label="产品简称：" labelwidth="60" pos="10+32*1,355" size="0,220" length="10" />
            <textfield name="quantityperunit" label="规格型号：" labelwidth="60" pos="10+32*2,6" size="0,320" length="40" />
            <textfield name="unit" label="计量单位：" labelwidth="60" pos="10+32*2,355" size="0,220" length="16" />
            <decimalfield name="unitprice" label="产品单价：" labelwidth="60" pos="10+32*3,6" size="0,170" decimal="2" />
            <decimalfield name="taxrate" label="增值税率%：" labelwidth="72" pos="10+32*3,343" size="0,150" decimal="2" maxvalue="100" minvalue="0" />
            <textpicker name="supplierid" label="供 应 商：" labelwidth="60" pos="10+32*4,6" size="0,170" length="14" valuefields="suppliername" style="xeditable" >
               <grid title="供应商" pagesize="10" size="387,660" sql="select supplierid,suppliername,address,contactname from suppliers" datafields="[95]supplierid/供应商编码;[240]suppliername/供应商名称;[270]address/供应商地址" />
            </textpicker>
            <readonlyfield name="suppliername" label="" labelwidth="0" pos="10+32*4,220" size="0,354" decimal="2" maxvalue="100" minvalue="0" />
            <memofield name="notes" label="产品描述：" labelwidth="60" pos="10+32*5,6" size="94,568" length="500" />
         </groupbox>
      </tab>  
      <tab>
        <title>附件信息</title>
         <groupbox title="上传图片" pos="8,12" size="295,600" >
            <imageupload  name="filepath" label="附件名称：" filename="filename" labelwidth="60" pos="10+32*0,6" size="280,554" checkbox="true" />
         </groupbox>
      </tab>
   </form>   
</service>
